<span class="modal-body-title">Édition d'un e-learning</span>

{% if e_learning_form is defined %}
<div class="preview-news-button-container">
    <span class="preview-news-button">aperçu</span>
</div>

{{ form_start(e_learning_form, {'attr': {'novalidate': 'novalidate'}}) }}
    <div class="form-row">
        {#<label>titre</label>#}
        {{ form_label(e_learning_form.title, 'titre') }}
        {#<input type="text" class="large-input-text removable-content-input">#}
        {{ form_widget(e_learning_form.title, {'attr': {'class': 'large-input-text removable-content-input'}}) }}
        <span class="delete-input" style="display: none;"></span>
    </div>
    <div class="form-row error-message-container">
        {{ form_errors(e_learning_form.title) }}
    </div>
    <div class="form-row vertical">
        {#<label>texte</label>#}
        {{ form_label(e_learning_form.main_text, 'texte') }}
        {#<textarea class="large-textarea" id="news-text"></textarea>#}
        {{ form_widget(e_learning_form.main_text, {'attr': {'class': 'large-textarea'}}) }}
    </div>
    <div class="title-separator">
        <span class="title">médias</span><span class="separator-line"></span>
    </div>

    <!-- content list element -->
    <div class="media-content-list-container">
    {% for content in e_learning_form.media_contents %}
        <div class="content-list-element">
            <div class="content-denomination">
                <div class="content-denomination-image">
                    <span class="document-icon"></span>
                </div>
                <div class="content-denomination-name">
                    <div>{{ content.vars.value.name }}</div>
                </div>
            </div>
            <div class="actions-container">
                <span class="edit"></span>
                <span class="delete"></span>
                <div class="reorder">
                    <span class="reorder-up"></span>
                    <span class="reorder-down"></span>
                </div>
            </div>
        </div>
    {% endfor %}
        {#<div class="content-list-element">
            <div class="content-denomination">
                <div class="content-denomination-image">
                    <img src="{{ asset('images/cloudsRewards/pdf-file-icon.png') }}"><span>Lorem_ipsum.pdf</span>
                </div>
                <div class="content-denomination-name">
                    <div>Produits 2017</div>
                </div>
            </div>
            <div class="actions-container">
                <span class="edit"></span>
                <span class="delete"></span>
                <div class="reorder">
                    <span class="reorder-up"></span>
                    <span class="reorder-down"></span>
                </div>
            </div>
        </div>
        <div class="content-list-element">
            <div class="content-denomination">
                <div class="content-denomination-image">
                    <span class="video-icon"></span>
                </div>
                <div class="content-denomination-name">
                    <div>Vidéo de présentation</div>
                </div>
            </div>
            <div class="actions-container">
                <span class="edit"></span>
                <span class="delete"></span>
                <div class="reorder">
                    <span class="reorder-up"></span>
                    <span class="reorder-down"></span>
                </div>
            </div>
        </div>
        <div class="content-list-element">
            <div class="content-denomination">
                <div class="content-denomination-image">
                    <span class="gallery-icon"></span>
                </div>
                <div class="content-denomination-name">
                    <div>Galérie 1</div>
                </div>
            </div>
            <div class="actions-container">
                <span class="edit"></span>
                <span class="delete"></span>
                <div class="reorder">
                    <span class="reorder-up"></span>
                    <span class="reorder-down"></span>
                </div>
            </div>
        </div>#}
    </div>
    <!-- end - content list element -->

    <!-- add media by type -->
    <div class="content-block-container add-media-content-block" style="display: none">
        <div class="block-title">
            <span>ajouter un nouveau média</span>
            <span class="delete-block"></span>
        </div>
        <div class="document-type-container">
            <div class="document-type-element" data-media-type="document">
                <span class="document-type-document-icon icon"></span>
                <span>document</span>
            </div>
            <div class="document-type-element" data-media-type="image-gallery">
                <span class="document-type-gallery-icon icon"></span>
                <span>galerie d'images</span>
            </div>
            <div class="document-type-element" data-media-type="video">
                <span class="document-type-video-icon icon"></span>
                <span>vidéo</span>
            </div>
        </div>
    </div>
    <!-- end - add media by type -->

    <!-- adding media -->
    <div class="content-block-list-container media-container">
    {% for content in e_learning_form.media_contents %}
        {% set additional_block_class = '' %}
        {% if constant('MEDIA_DOCUMENT', e_learning_content_type_class) %}
            {% set additional_block_class = 'media-document-block' %}
        {% elseif constant('MEDIA_IMAGE_GALLERY', e_learning_content_type_class) %}
            {% set additional_block_class = 'media-image-gallery-block' %}
        {% elseif constant('MEDIA_VIDEO', e_learning_content_type_class) %}
            {% set additional_block_class = 'media-video-block' %}
        {% endif %}

        <div class="content-block-container {{ additional_block_class }}" data-block-index="">
            {{ form_widget(content.content_type, {'attr': {'class': 'content-type-input'}}) }}
            {{ form_widget(content.content_order, {'attr': {'class': 'content-order-input form-el'}}) }}
            <div class="block-title">
                <span>ajouter un nouveau média</span>
                <span class="delete-block"></span>
            </div>
            <div class="add-content-block">
                <p class="main-info">ajouter un document format word, excel, powerwpoint, pdf etc.</p>
                <div>
                    {{ form_widget(content.associated_file, {'attr': {'class': 'hidden-input-file associated-file'}}) }}
                    <button class="btn-valider btn-upload input-file-trigger">
                        <span class="upload"></span>choisissez un fichier...
                    </button>
                    <div class="info-container associated-file-info">
                        <p>les fichiers doivent peser moins de <span class="bigger">20 Mo</span></p>
                    </div>
                    <div class="upload-img-button-container hidden-button input-file-trigger">
                        <button class="upload-img-button">
                            <span class="blue-upload"></span><span class="img-name-container">Lorem_ipsum.pdf</span>
                        </button>
                    </div>
                    <a href="#" class="delete-link input-file-delete-link" style="display: none;"></a>
                    <input type="hidden" name="initial_image" value="">
                    <input type="hidden" name="initial_image_name" value="">
                </div>
                <div class="form-row document-name-container vertical-md" style="display:none;">
                    <label>nom du document</label>
                    <div class="document-name">
                        {#<input class="standard-styled-input" type="text" value="Produits 2017">#}
                        {{ form_widget(content.name, {'attr': {'class': 'standard-styled-input removable-content-input'}}) }}
                        <span class="delete-input" style="display: none"></span>
                    </div>
                </div>
                <div class="add-content-button-container" style="display:none;">
                    <button class="btn-valider add-media">ajouter</button>
                </div>
            </div>
        </div>
    {% endfor %}
    </div>

    <div class="temporary-content-block-list-container">

    </div>
    <!-- end - adding media -->

    {#<!-- adding document media -->
    <div class="content-block-container">
        <div class="block-title">
            <span>ajouter un nouveau média</span>
            <span class="delete-block"></span>
        </div>
        <div class="add-content-block">
            <p class="main-info">ajouter un document format word, excel, powerwpoint, pdf etc.</p>
            <button class="btn-valider btn-upload">
                <span class="upload"></span>choisissez un fichier...
            </button>
            <div class="info-container">
                <p>les fichiers doivent peser moins de <span class="bigger">20 Mo</span></p>
            </div>
            <div class="upload-img-button-container">
                <button class="upload-img-button">
                    <span class="blue-upload"></span><span class="img-name-container">Lorem_ipsum.pdf</span>
                </button>
            </div>
            <a href="#" class="delete-link"></a>
            <div class="form-row document-name-container vertical-md">
                <label>nom du document</label>
                <div class="document-name">
                    <input class="standard-styled-input" type="text" value="Produits 2017">
                    <span class="delete-input"></span>
                </div>
            </div>
            <div class="add-content-button-container">
                <button class="btn-valider">ajouter</button>
            </div>
        </div>
    </div>
    <!-- end - adding document media -->#}

    {#<!-- adding vidéo media -->
    <div class="content-block-container video">
        <div class="block-title">
            <span>ajouter un nouveau média</span>
            <span class="delete-block"></span>
        </div>
        <div class="add-content-block">
            <p class="main-info">ajouter une vidéo</p>
            <div class="form-row vertical-xs">
                <label>url de la vidéo</label>
                <div class="form-element">
                    <input type="text" class="standard-styled-input large-input-text" value="https://monlienderedirection.com/challenge">
                    <span class="delete-input"></span>
                </div>
            </div>
            <div class="info-container">
                <p>url youtube, vimeo, depuis votre serveur, etc.</p>
                <p>si toutefois votre vidéo n'est pas hebergée veuillez <a href="#" class="blue-anchor">nous contacter</a></p>
            </div>
            <div class="form-row video-name vertical-xs">
                <label>nom de la vidéo</label>
                <div class="form-element">
                    <input type="text" class="standard-styled-input" value="Vidéo de présentation">
                    <span class="delete-input"></span>
                </div>
            </div>
            <div class="add-content-button-container">
                <button class="btn-valider">ajouter</button>
            </div>
        </div>
    </div>
    <!-- end - adding vidéo media -->#}

    {#<!-- adding image gallery media -->
    <div class="content-block-container">
        <div class="block-title">
            <span>ajouter un nouveau média</span>
            <span class="delete-block"></span>
        </div>
        <div class="add-content-block">
            <p class="main-info">ajouter une galerie d'image</p>
            <div class="form-row document-name-container vertical-md">
                <label>nom de la galerie</label>
                <div class="document-name">
                    <input class="standard-styled-input" type="text" value="Galerie 1">
                    <span class="delete-input"></span>
                </div>
            </div>

            <!-- image list -->
            <div class="content-list-element-container">
                <div class="content-list-element image-gallery">
                    <div class="content-denomination">
                        <div class="content-denomination-image">
                            <div class="image-preview"></div>
                        </div>
                        <div class="content-denomination-name">
                            <div>Nom de l'image 1</div>
                        </div>
                    </div>
                    <div class="actions-container">
                        <span class="edit"></span>
                        <span class="delete"></span>
                        <div class="reorder disabled">
                            <span class="reorder-up"></span>
                            <span class="reorder-down"></span>
                        </div>
                    </div>
                </div>
            </div>
            <!-- end -  images list -->

            <div>
                <button class="btn-valider btn-upload">
                    <span class="upload"></span>choisissez un fichier...
                </button>
                <div class="info-container">
                    <p>document au format jpeg ou gif limité à <span class="bigger">20 Mo</span></p>
                </div>
            </div>
            <div>
                <div class="upload-img-button-container">
                    <button class="upload-img-button">
                        <span class="blue-upload"></span><span class="img-name-container">image 1.jpeg</span>
                    </button>
                </div>
                <a href="#" class="delete-link"></a>
                <div class="form-row document-name-container vertical-md">
                    <label>nom de l'image</label>
                    <div class="document-name">
                        <input class="standard-styled-input" type="text" value="Nom de l'image 1">
                        <span class="delete-input"></span>
                    </div>
                </div>
                <div class="add-content-button-container">
                    <button class="btn-valider">ajouter</button>
                </div>
            </div>
        </div>
    </div>
    <!-- end - adding image gallery media -->#}

    <div class="content-button-container">
        <a class="add add-media-content">ajouter un média</a>
    </div>

    <div class="title-separator">
        <span class="title">quiz</span><span class="separator-line"></span>
    </div>

    {#<!-- quiz list -->
    <div class="content-list-element">
        <div class="content-denomination">
            <div class="content-denomination-image">
                <span class="quiz-icon"></span>
            </div>
            <div class="content-denomination-name">
                <div>Produits 2017</div>
            </div>
        </div>
        <div class="actions-container">
            <span class="edit"></span>
            <span class="delete"></span>
            <div class="reorder disabled">
                <span class="reorder-up"></span>
                <span class="reorder-down"></span>
            </div>
        </div>
    </div>
    <!-- end - quiz list -->#}

    {#<!-- adding quiz -->
    <div class="content-block-container video">
        <div class="block-title">
            <span>ajouter un nouveau quiz</span>
            <span class="delete-block"></span>
        </div>
        <div class="add-content-block">
            <p class="main-info">vous devez créer un quiz dans la partie "sondages/quiz" pour qu'il apparaisse dans le menu déroulant</p>
            <div class="dropdown-container quiz-selection">
                <div class="dropdown">
                    <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdown-selected-quiz" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" data-default-text="ACTIONS">
                        SÉLECTIONNEZ<span class="hidden-under-355">&nbsp;UN QUIZ</span>
                    </button>
                    <div class="dropdown-menu" aria-labelledby="dropdown-selected-quiz">
                        <a class="dropdown-item" href="#">QUIZ 1</a>
                        <a class="dropdown-item" href="#">QUIZ 2</a>
                        <a class="dropdown-item" href="#">QUIZ 3</a>
                        <a class="dropdown-item" href="#">QUIZ 4</a>
                    </div>
                </div>
                <span class="delete-input"></span>
            </div>
            <div class="add-content-button-container">
                <button class="btn-valider">ajouter</button>
            </div>
        </div>
    </div>
    <!-- end - adding quiz -->#}

    <div class="content-button-container">
        <a class="add">ajouter un quiz</a>
    </div>

    <div class="title-separator">
        <span class="title">Bouton d'action</span><span class="separator-line"></span>
    </div>

    {#<!-- action button element -->
    <div class="content-list-element">
        <div class="content-denomination">
            <div class="content-denomination-image">
                <span class="action-button-icon"></span>
            </div>
            <div class="content-denomination-name">
                <div>En savoir plus</div>
            </div>
        </div>
        <div class="actions-container">
            <span class="edit"></span>
            <span class="delete"></span>
        </div>
    </div>
    <!-- action button element -->#}

    {#<!-- adding action button -->
    <div class="content-block-container action-button-block-container">
        <div class="block-title">
            <span>bouton d'action</span>
            <span class="delete-block"></span>
        </div>
        <div class="add-content-block">
            <div class="form-row vertical-centered">
                <label class="fixed-width">texte du bouton</label>
                <input type="text" value="mon bouton d'action" class="removable-content-input action-button-input semi-large" value="En savoir plus">
                <span class="delete-input delete-action-button-text"></span>
            </div>
            <div class="form-row vertical-xs">
                <label>aspect du bouton</label>
                <div class="vertical-xs">
                    <div class="action-button-color-option">
                        <span class="option-title">Couleur</span>
                        <input type="text" class="color-value">
                    </div>
                    <div class="action-button-color-option">
                        <span class="option-title">Couleur du texte</span>
                        <input type="text" class="color-value">
                    </div>
                </div>
                <div class="action-button-preview">
                    En savoir plus
                </div>
            </div>
            <span class="form-row-group-title">lien de redirection du bouton d'action</span>
            <div class="form-row vertical-centered">
                <label class="fixed-width">renseigner une url</label>
                <input type="text" value="https://monlienderedirection.com/challenge" class="removable-content-input action-button-input large">
                <span class="delete-input"></span>
            </div>
            <div class="form-row vertical-xs">
                <label>ou chercher une page du site</label>
                <div class="action-button-target-page-choice styled-choice-select">
                    <div class="dropdown clearable">
                        <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdown-action-button-page-target" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" data-default-button-text="POINTER SUR">
                            POINTER SUR
                        </button>
                        <div class="dropdown-menu" aria-labelledby="dropdown-action-button-page-target">
                            <a class="dropdown-item" href="#">PRÉSENTATION DE LA SOCIÉTÉ</a>
                            <a class="dropdown-item" href="#">DÉCOUVREZ LE PROGRAMME</a>
                            <a class="dropdown-item" href="#">DÉCLARER UNE VENTE</a>
                            <a class="dropdown-item" href="#">CLASSEMENT</a>
                            <a class="dropdown-item sub-level" href="#">CHALLENGE 1</a>
                            <a class="dropdown-item sub-level" href="#">CHALLENGE 2</a>
                            <a class="dropdown-item" href="#">SONDAGES / QUIZ</a>
                            <a class="dropdown-item sub-level" href="#">QUIZ 1</a>
                            <a class="dropdown-item sub-level" href="#">QUIZ 2</a>
                            <a class="dropdown-item" href="#">CADEAUX</a>
                        </div>
                        <span class="delete-select"></span>
                    </div>
                </div>
            </div>
            <div class="add-content-button-container">
                <button class="btn-valider">ajouter</button>
            </div>
        </div>
    </div>
    <!-- end - adding action button -->#}

    <div class="content-button-container">
        <a class="add">ajouter un bouton d'action</a>
    </div>

    <div class="form-row vertical-xs">
        {#<label>qui verra ce e-learning?</label>#}
        {{ form_label(e_learning_form.viewer_authorization_type, 'qui verra ce e-learning?') }}
        <div class="styled-choice-select viewer-authorization-type-choice">
            <div class="dropdown viewer-dropdown clearable">
                {% set dropdown_toggle_text = 'TOUS LES PARTICIPANTS' %}
                {% if "" != e_learning_form.viewer_authorization_type.vars.value %}
                    {% for choice in e_learning_form.viewer_authorization_type.vars.choices  %}
                        {% if e_learning_form.viewer_authorization_type.vars.value == choice.value %}
                            {% set dropdown_toggle_text = choice.label %}
                        {% endif %}
                    {% endfor %}
                {% endif %}
                <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdown-e-learning-viewer-group" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" data-default-button-text="TOUS LES PARTICIPANTS">
                    {{ dropdown_toggle_text }}
                </button>
                <div class="dropdown-menu" aria-labelledby="dropdown-e-learning-viewer-group">
                {% for choice in e_learning_form.viewer_authorization_type.vars.choices %}
                    <a class="dropdown-item" href="#" data-value="{{ choice.value }}">{{ choice.label }}</a>
                {% endfor %}
                </div>
                {% set delete_input_visibility = 'style=display:none' %}
                {% if e_learning_form.viewer_authorization_type.vars.value | trim is not empty %}
                    {% set delete_input_visibility = '' %}
                {% endif %}
                <span class="delete-select" {{ delete_input_visibility }}></span>
            </div>
            {{ form_widget(e_learning_form.viewer_authorization_type, {'attr': {'class': 'hidden-select'}}) }}
        </div>
    </div>

    {{ form_widget(e_learning_form.authorized_viewer_role, {'attr': {'class': 'authorized-viewer-role-input'}}) }}

    <div class="submit-block-container">
        <button class="btn-valider first-button save" data-submission-type="{{ constant('SAVE', submission_type_class) }}">enregistrer</button>
        <button class="btn-valider second-button publish" data-submission-type="{{ constant('PUBLISH', submission_type_class) }}">publier</button>
    </div>
    <div class="form-visibility-end"></div>
    <div class="block-model-container">
        <div class="content-block-container" data-block-index="">
            {{ form_widget(e_learning_form.media_contents.vars.prototype.content_type, {'attr': {'class': 'content-type-input form-el'}}) }}
            {{ form_widget(e_learning_form.media_contents.vars.prototype.content_order, {'attr': {'class': 'content-order-input form-el'}}) }}
            <div class="block-title">
                <span>ajouter un nouveau média</span>
                <span class="delete-block"></span>
            </div>
            <div class="add-content-block">
                <p class="main-info">ajouter un document format word, excel, powerwpoint, pdf etc.</p>
                <div>
                    {{ form_widget(e_learning_form.media_contents.vars.prototype.associated_file, {'attr': {'class': 'hidden-input-file associated-file form-el'}}) }}
                    <button class="btn-valider btn-upload input-file-trigger">
                        <span class="upload"></span>choisissez un fichier...
                    </button>
                    <div class="info-container associated-file-info">
                        <p>les fichiers doivent peser moins de <span class="bigger">20 Mo</span></p>
                    </div>
                    <div class="upload-img-button-container hidden-button input-file-trigger">
                        <button class="upload-img-button">
                            <span class="blue-upload"></span><span class="img-name-container">Lorem_ipsum.pdf</span>
                        </button>
                    </div>
                    <a href="#" class="delete-link input-file-delete-link" style="display: none;"></a>
                    <input type="hidden" name="initial_image" value="">
                    <input type="hidden" name="initial_image_name" value="">
                </div>
                <div class="form-row document-name-container vertical-md" style="display:none;">
                    <label>nom du document</label>
                    <div class="document-name">
                        {#<input class="standard-styled-input" type="text" value="Produits 2017">#}
                        {{ form_widget(e_learning_form.media_contents.vars.prototype.name, {'attr': {'class': 'standard-styled-input removable-content-input form-el'}}) }}
                        <span class="delete-input" style="display: none"></span>
                    </div>
                </div>
                <div class="error-message-container document-name-error-message">
                </div>
                <div class="add-content-button-container" style="display:none;">
                    <button class="btn-valider add-media">ajouter</button>
                </div>
            </div>
        </div>
        <div class="content-list-element">
            <div class="content-denomination">
                <div class="content-denomination-image">
                    <span class="document-icon"></span>
                </div>
                <div class="content-denomination-name">
                    <div>Titre de l'élément</div>
                </div>
            </div>
            <div class="actions-container">
                <span class="edit"></span>
                <span class="delete"></span>
                <div class="reorder">
                    <span class="reorder-up"></span>
                    <span class="reorder-down"></span>
                </div>
            </div>
        </div>
    </div>
{{ form_end(e_learning_form) }}
{% endif %}